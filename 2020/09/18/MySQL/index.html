<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="MySQL, 努力的小渣渣">
    <meta name="description" content="努力学习啊">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>MySQL | 努力的小渣渣</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.2.0"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">努力的小渣渣</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">努力的小渣渣</div>
        <div class="logo-desc">
            
            努力学习啊
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/18.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">MySQL</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/MySQL/">
                                <span class="chip bg-color">MySQL</span>
                            </a>
                        
                            <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                                <span class="chip bg-color">数据库</span>
                            </a>
                        
                            <a href="/tags/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/">
                                <span class="chip bg-color">关系型数据库</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-09-18
                </div>
                

                

                

                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>​        MySQL是一种关系型数据库管理系统，关系数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。<br>​        MySQL所使用的 SQL 语言是用于访问数据库的最常用标准化语言。MySQL 软件采用了双授权政策，分为社区版和商业版，由于其体积小、速度快、总体拥有成本低，尤其是开放源码这一特点，一般中小型网站的开发都选择 MySQL 作为网站数据库。</p>
<a id="more"></a>

<h1 id="1-MySQL入门"><a href="#1-MySQL入门" class="headerlink" title="1.MySQL入门"></a>1.MySQL入门</h1><p><a target="_blank" rel="noopener" href="http://dev.mysql.com/downloads/mysql">下载地址</a></p>
<h2 id="1-配置文件"><a href="#1-配置文件" class="headerlink" title="1.配置文件"></a>1.配置文件</h2><pre class="line-numbers language-ini" data-language="ini"><code class="language-ini"><span class="token selector">[client]</span>

<span class="token constant">port</span><span class="token attr-value"><span class="token punctuation">=</span>3306</span>

<span class="token selector">[mysql]</span>

<span class="token constant">default-character-set</span><span class="token attr-value"><span class="token punctuation">=</span>latin1</span>

<span class="token selector">[mysqld]</span>

<span class="token comment"># 端口号</span>
<span class="token constant">port</span><span class="token attr-value"><span class="token punctuation">=</span>3306</span>


<span class="token comment"># 安装目录</span>
<span class="token constant">basedir</span><span class="token attr-value"><span class="token punctuation">=</span>"C:/Program Files (x86)/MySQL/MySQL Server 5.0/"</span>

<span class="token comment"># 文件目录</span>
<span class="token constant">datadir</span><span class="token attr-value"><span class="token punctuation">=</span>"C:/Program Files (x86)/MySQL/MySQL Server 5.0/Data/"</span>

<span class="token comment"># 默认字符集</span>
<span class="token constant">default-character-set</span><span class="token attr-value"><span class="token punctuation">=</span>utf8</span>

<span class="token comment">#存储引擎</span>
<span class="token constant">default-storage-engine</span><span class="token attr-value"><span class="token punctuation">=</span>INNODB</span>

<span class="token comment"># 语法模式</span>
<span class="token constant">sql-mode</span><span class="token attr-value"><span class="token punctuation">=</span>"STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"</span>

<span class="token comment"># 最大连接数</span>
<span class="token constant">max_connections</span><span class="token attr-value"><span class="token punctuation">=</span>100</span>

...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="2-服务的启动与停止"><a href="#2-服务的启动与停止" class="headerlink" title="2.服务的启动与停止"></a>2.服务的启动与停止</h2><h3 id="1-服务中开启"><a href="#1-服务中开启" class="headerlink" title="1.服务中开启"></a>1.服务中开启</h3><p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/mysql%E5%90%AF%E5%8A%A8%E4%B8%8E%E5%81%9C%E6%AD%A2.png"></p>
<h3 id="2-命令行开启关闭"><a href="#2-命令行开启关闭" class="headerlink" title="2.命令行开启关闭"></a>2.命令行开启关闭</h3><h4 id="1-开启"><a href="#1-开启" class="headerlink" title="1.开启"></a>1.开启</h4><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">net start mysql服务名<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h4 id="2-关闭"><a href="#2-关闭" class="headerlink" title="2.关闭"></a>2.关闭</h4><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">net stop mysql服务名<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h2 id="3-启动MySQL"><a href="#3-启动MySQL" class="headerlink" title="3.启动MySQL"></a>3.启动MySQL</h2><h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h3><p>使用MySQL的命令行工具，输入密码使用</p>
<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/mysql%E5%91%BD%E4%BB%A4%E8%A1%8C.png"></p>
<h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><p>使用命令打开</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">mysql -h localhost -P 3306 -u root -p<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%89%93%E5%BC%80.png"></p>
<h3 id="方法三"><a href="#方法三" class="headerlink" title="方法三"></a>方法三</h3><p>常用客户端打开</p>
<p>如SQLyog等</p>
<h2 id="4-查询数据库版本"><a href="#4-查询数据库版本" class="headerlink" title="4.查询数据库版本"></a>4.查询数据库版本</h2><p>1.在命令行中</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">mysql --version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p>2.mysql命令中</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select version();<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h2 id="5-语法规范"><a href="#5-语法规范" class="headerlink" title="5.语法规范"></a>5.语法规范</h2><ol>
<li><p>不区分大小写</p>
</li>
<li><p>每句话用;或\g结尾 </p>
</li>
<li><p>各子句一般分行写 </p>
</li>
<li><p>关键字不能缩写也不能分行 </p>
</li>
<li><p>用缩进提高语句的可读性</p>
</li>
<li><p>注释</p>
<ol>
<li><p>单行注释</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql"># 注释
-- 注释<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



</li>
</ol>
</li>
</ol>
<ol start="2">
<li><p>多行注释</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">&#x2F;*
注释
注释
*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



</li>
</ol>
<h2 id="6-SQL分类"><a href="#6-SQL分类" class="headerlink" title="6.SQL分类"></a>6.SQL分类</h2><p>1.DDL(Data Definition Language)数据定义语言</p>
<p>​    用来定义数据库对象：数据库，表，列等。关键字：create, drop,alter 等</p>
<p>2.DML(Data Manipulation Language)数据操作语言</p>
<p>​    用来对数据库中表的数据进行增删改。关键字：insert, delete, update 等</p>
<p>3.DQL(Data Query Language)数据查询语言</p>
<p>​    用来查询数据库中表的记录(数据)。关键字：select, where 等</p>
<p>4.DCL(Data Control Language)数据控制语言(了解)</p>
<p>​    用来定义数据库的访问权限和安全级别，及创建用户。关键字：GRANT， REVOKE 等</p>
<h1 id="2-DDL-数据定义语言"><a href="#2-DDL-数据定义语言" class="headerlink" title="2.DDL:数据定义语言"></a>2.DDL:数据定义语言</h1><h2 id="1-数据库操作"><a href="#1-数据库操作" class="headerlink" title="1.数据库操作"></a>1.数据库操作</h2><h3 id="1-C-Create-创建"><a href="#1-C-Create-创建" class="headerlink" title="1.C(Create):创建"></a>1.C(Create):创建</h3><p>1.创建数据库：</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">database</span> 数据库名称<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p>2.创建数据库，判断不存在，再创建：</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> 数据库名称<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p>创建数据库，并指定字符集</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">database</span> 数据库名称 <span class="token keyword">character</span> <span class="token keyword">set</span> 字符集名<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p> 练习： 创建db4数据库，判断是否存在，并制定字符集为gbk</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> db4 <span class="token keyword">character</span> <span class="token keyword">set</span> gbk<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="2-R-Retrieve-：查询"><a href="#2-R-Retrieve-：查询" class="headerlink" title="2.R(Retrieve)：查询"></a>2.R(Retrieve)：查询</h3><p>查询所有数据库的名称:</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p>查询某个数据库的字符集:查询某个数据库的创建语句</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">database</span> 数据库名称<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="3-U-Update-修改"><a href="#3-U-Update-修改" class="headerlink" title="3.U(Update):修改"></a>3.U(Update):修改</h3><p>修改数据库的字符集</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">database</span> 数据库名称 <span class="token keyword">character</span> <span class="token keyword">set</span> 字符集名称<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="4-D-Delete-删除"><a href="#4-D-Delete-删除" class="headerlink" title="4.D(Delete):删除"></a>4.D(Delete):删除</h3><p> 删除数据库</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">drop</span> <span class="token keyword">database</span> 数据库名称<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p>判断数据库存在，存在再删除</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">drop</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> 数据库名称<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="5-使用数据库"><a href="#5-使用数据库" class="headerlink" title="5.使用数据库"></a>5.使用数据库</h3><p> 查询当前正在使用的数据库名称</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select database();<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p>使用数据库</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">use</span> 数据库名称<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>







<h2 id="2-表操作"><a href="#2-表操作" class="headerlink" title="2.表操作"></a>2.表操作</h2><h3 id="1-C-Create-创建-1"><a href="#1-C-Create-创建-1" class="headerlink" title="1.C(Create):创建"></a>1.C(Create):创建</h3><p><strong>1. 语法：</strong></p>
 <pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> 表名<span class="token punctuation">(</span>
    列名<span class="token number">1</span> 数据类型<span class="token number">1</span><span class="token punctuation">,</span>
    列名<span class="token number">2</span> 数据类型<span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    列名n 数据类型n
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>注意：最后一列，不需要加逗号（,）</p>
<p><strong>数据库类型：</strong></p>
<p><strong>1.int：整数类型</strong></p>
<p><strong>2.double:小数类型</strong></p>
<p><strong>3.date:日期</strong>，只包含年月日，yyyy-MM-dd</p>
<p><strong>4.datetime:日期</strong>，包含年月日时分秒 yyyy-MM-dd HH:mm:ss</p>
<p><strong>5.timestamp:时间错类型</strong> 包含年月日时分秒   yyyy-MM-dd HH:mm:ss  </p>
<p> 如果将来不给这个字段赋值，或赋值为null，则默认使用当前的系统时间，来自动赋值</p>
<p><strong>6.varchar：字符串</strong></p>
<p> name varchar(20):姓名最大20个字符</p>
<p> 例</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
    id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    age <span class="token keyword">int</span> <span class="token punctuation">,</span>
    score <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    birthday <span class="token keyword">date</span><span class="token punctuation">,</span>
    insert_time <span class="token keyword">timestamp</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p><strong>复制表</strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">reate <span class="token keyword">table</span> 表名 <span class="token operator">like</span> 被复制的表名<span class="token punctuation">;</span>   <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="2-R-Retrieve-：查询-1"><a href="#2-R-Retrieve-：查询-1" class="headerlink" title="2.R(Retrieve)：查询"></a>2.R(Retrieve)：查询</h3><p><strong>查询某个数据库中所有的表名称</strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p><strong>查询其他数据库中的所有表</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">show tables from 库名;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p><strong>查询表结构</strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">desc</span> 表名<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="3-U-Update-修改-1"><a href="#3-U-Update-修改-1" class="headerlink" title="3.U(Update):修改"></a>3.U(Update):修改</h3><p><strong>修改表名</strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">rename</span> <span class="token keyword">to</span> 新的表名<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p><strong>修改表的字符集</strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">character</span> <span class="token keyword">set</span> 字符集名称<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p> <strong>添加一列</strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">add</span> 列名 数据类型<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p><strong>修改列名称类型</strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 change 列名 新列名 新数据类型<span class="token punctuation">;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">modify</span> 列名 新数据类型<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<p><strong>删除列</strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名 <span class="token keyword">drop</span> 列名<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="4-D-Delete-删除-1"><a href="#4-D-Delete-删除-1" class="headerlink" title="4.D(Delete):删除"></a>4.D(Delete):删除</h3><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">drop</span> <span class="token keyword">table</span> 表名<span class="token punctuation">;</span>
<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> 表名 <span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>





<h2 id="3-常见约束"><a href="#3-常见约束" class="headerlink" title="3.常见约束"></a>3.常见约束</h2><h3 id="1-简介"><a href="#1-简介" class="headerlink" title="1.简介"></a>1.简介</h3><p>一种限制，用于限制数据库中表中行/列的数据</p>
<p><strong>1.主键约束(PRIMARY KEY)</strong></p>
<p>用于保证该字段非空且唯一</p>
<p><strong>2.外键约束(FOREIGN KEY)</strong></p>
<p>用于保证该字段的值必须来自主表的关联列的值</p>
<p>外键应该添加在从表中添加（被约束的表）</p>
<p><strong>3.非空约束(NOT NULL)</strong></p>
<p>保证该字段的值不能为空</p>
<p><strong>4.唯一约束(UNIQUE)</strong></p>
<p>保证该字段唯一，但可以为空</p>
<p><strong>5.默认约束(Default)</strong></p>
<p>用于保证该字段有默认值</p>
<p><strong>6.检查约束(check)</strong></p>
<p>MySQL不支持，但不报错</p>
<h3 id="2-使用"><a href="#2-使用" class="headerlink" title="2.使用"></a>2.使用</h3><h4 id="1-创建表时添加约束"><a href="#1-创建表时添加约束" class="headerlink" title="1.创建表时添加约束"></a>1.创建表时添加约束</h4><p><strong>列级约束形式</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table student(
    no int primary key , #主键约束
    name varchar(15) not null ,   #非空约束
    gender char(1) check ( gender&#x3D;&#39;男&#39; or gender&#x3D;&#39;女&#39; ),   #检查约束
    ID varchar(20) unique ,   #唯一约束
    age int default 18,   #默认约束
    major_id int references major(id)   #外键约束
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p><strong>表级约束形式</strong></p>
<p>不支持非空约束及默认约束</p>
<p>constraint 约束名    可以省略</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table teacher
(
    t_no       int,
    name     varchar(15),
    gender   char(1),
    ID       varchar(20),
    age      int,
    major_id int,
    constraint pk primary key (id),
    constraint uq unique (ID),
    constraint ck check ( gender &#x3D; &#39;男&#39; or gender &#x3D; &#39;女&#39; ),
    constraint fk_t_m foreign key (major_id) references major(id)
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h4 id="2-创建表之后添加约束"><a href="#2-创建表之后添加约束" class="headerlink" title="2.创建表之后添加约束"></a>2.创建表之后添加约束</h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">#主键约束
ALTER TABLE 表名 MODIFY COLUMN 列名 数据类型 PRIMARY KEY;
ALTER TABLE 表名 ADD PRIMARY KEY(列名);
#唯一约束
ALTER TABLE 表名 MODIFY COLUMN 列名 数据类型 UNIQUE;
ALTER TABLE 表名 ADD UNIQUE(列名);
#非空约束
ALTER TABLE 表名 MODIFY COLUMN 列名 数据类型 NOT NULL;
#默认约束
ALTER TABLE 表名 MODIFY COLUMN 列名 数据类型 DEFAULT 默认值;
#外键约束
ALTER TABLE 表名 ADD [CONSTRAINT] 外键名称 FOREIGN KEY (外键列名称) REFERENCES 主表名称(主表列名称);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="3-删除约束"><a href="#3-删除约束" class="headerlink" title="3.删除约束"></a>3.删除约束</h3><h4 id=""><a href="#" class="headerlink" title=""></a></h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">#主键约束
ALTER TABLE 表名 MODIFY COLUMN 列名 数据类型;
ALTER TABLE 表名 DROP PRIMARY KEY;
#唯一约束
ALTER TABLE 表名 DROP INDEX(列名);
#非空约束
ALTER TABLE 表名 MODIFY COLUMN 列名 数据类型;
#默认约束
ALTER TABLE 表名 MODIFY COLUMN 列名 数据类型;
#外键约束
ALTER TABLE 表名 DROP FOREIGN KEY 外键名称;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h3 id="4-标识列"><a href="#4-标识列" class="headerlink" title="4.标识列"></a>4.标识列</h3><p>自增</p>
<p><strong>创建表时添加</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create table 表名(
    属性名 值 约束 auto_increment,
    ...
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<p><strong>创建表后添加</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">alter table 表名 modify column 属性名 属性值 已有约束 auto_increment;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p><strong>设置自增数值</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">set auto_increment_increment &#x3D;值;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>





<h1 id="3-DQL-查询语句"><a href="#3-DQL-查询语句" class="headerlink" title="3.DQL:查询语句"></a>3.DQL:查询语句</h1><p><strong>语句顺序</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 字段列表 
from 表名列表 
where 条件列表
group by 分组字段
having 分组之后的条件
order by 排序
limit 分页限定<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h2 id="1-基础查询"><a href="#1-基础查询" class="headerlink" title="1.基础查询"></a>1.基础查询</h2><p>语法</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 查询列表 from 表名;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>查询列表</strong></p>
<p>1.表中字段、2.常量值、3.表达式、4.函数</p>
<p>2.常量值</p>
<p>3.表达式</p>
<p>4.函数</p>
<h3 id="1-查询单个字段"><a href="#1-查询单个字段" class="headerlink" title="1.查询单个字段"></a>1.查询单个字段</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 字段名 from 表名;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="2-查询多个字段"><a href="#2-查询多个字段" class="headerlink" title="2.查询多个字段"></a>2.查询多个字段</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 字段名1,字段名2,..., from 表名;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="3-查询所有字段"><a href="#3-查询所有字段" class="headerlink" title="3.查询所有字段"></a>3.查询所有字段</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from 表名;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="4-查询常量值"><a href="#4-查询常量值" class="headerlink" title="4.查询常量值"></a>4.查询常量值</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 常量值;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="5-查询表达式"><a href="#5-查询表达式" class="headerlink" title="5.查询表达式"></a>5.查询表达式</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 表达式;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="6-查询函数"><a href="#6-查询函数" class="headerlink" title="6.查询函数"></a>6.查询函数</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 函数;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>函数</strong></p>
<p>version()：查询版本号</p>
<h3 id="7-起别名"><a href="#7-起别名" class="headerlink" title="7.起别名"></a>7.起别名</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 列名 as 别名 ... from 表名;
select 列名 别名 ... from 表名;
#别名中有特殊字符，可以给别名添加&quot;&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<h3 id="8-去重查询"><a href="#8-去重查询" class="headerlink" title="8.去重查询"></a>8.去重查询</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select distinct 列名 from 表名;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="9-运算符"><a href="#9-运算符" class="headerlink" title="9.+运算符"></a>9.+运算符</h3><p>只能用于计算，不能用于拼接</p>
<p>两个数值型直接计算</p>
<p>其中有一个null,结果为null</p>
<p>如果为其它类型，会尝试转换为数值型</p>
<p>转换成功，计算；转化失败，则查询失败</p>
<p>如果要使用拼接功能，则要使用concat()函数</p>
<h2 id="2-条件查询"><a href="#2-条件查询" class="headerlink" title="2.条件查询"></a>2.条件查询</h2><p><strong>语法</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 列名 from 表名 where 条件;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="1-条件表达式筛选"><a href="#1-条件表达式筛选" class="headerlink" title="1.条件表达式筛选"></a>1.条件表达式筛选</h3><p>条件运算符：&gt;、&lt;、=、!=、&lt;&gt;(也是不等于)、&gt;=、&lt;=</p>
<h3 id="2-逻辑表达式筛选"><a href="#2-逻辑表达式筛选" class="headerlink" title="2.逻辑表达式筛选"></a>2.逻辑表达式筛选</h3><p>&amp;&amp;     ||     !</p>
<p>and    or   not</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">#与
select * from 表名 where 条件1 and 条件2;
select * from 表名 where 条件1 &amp;&amp; 条件2;
#或
select * from 表名 where 条件1 or 条件2;
select * from 表名 where 条件1 || 条件2;
#非
select * from 表名 where 条件1 not 条件2;
select * from 表名 where 条件1 ! 条件2;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h3 id="3-模糊查询"><a href="#3-模糊查询" class="headerlink" title="3.模糊查询"></a>3.模糊查询</h3><h4 id="1-like"><a href="#1-like" class="headerlink" title="1.like"></a>1.like</h4><p>像</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from 表名 where x like &#39;y&#39;;
eg:
select * from 表名 where name like &#39;靳%&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>其中y通常使用通配符</p>
<p><strong>通配符</strong></p>
<p>%：任意多个字符</p>
<p>_：任意一个字符</p>
<p>如果条件中有通配符，可以通过/进行转义，也可以通过escape关键字指定</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">#第二个字符为_
select * from 表名 where name like &#39;_&#x2F;_%&#39;;
select * from 表名 where name like &#39;_$_%&#39; escape &#39;$&#39;;($可以任意指定)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<h4 id="2-between-…-and-…"><a href="#2-between-…-and-…" class="headerlink" title="2.between  … and …"></a>2.between  … and …</h4><p>在…与…之间</p>
<p>包含临界值</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from 表名 where x between 条件1 and 条件2;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h4 id="3-in"><a href="#3-in" class="headerlink" title="3.in"></a>3.in</h4><p>在…之中</p>
<p><strong>值类型必须统一</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from 表名 where x in (... , ... ,...);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h4 id="4-is-null"><a href="#4-is-null" class="headerlink" title="4.is null"></a>4.is null</h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from 表名 where x is null;
select * from 表名 where x is not null;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>





<h2 id="3-排序查询"><a href="#3-排序查询" class="headerlink" title="3.排序查询"></a>3.排序查询</h2><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from 表名 (where ...) order by 列名&#x2F;表达式、别名 (asc&#x2F;desc);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>asc:升序</p>
<p>desc:降序</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from 表名  order by 列名&#x2F;表达式、别名 asc;
select * from 表名  order by 列名&#x2F;表达式、别名 desc;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h3 id="按多个字段排序"><a href="#按多个字段排序" class="headerlink" title="按多个字段排序"></a>按多个字段排序</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from 表名  order by 列名&#x2F;表达式、别名 asc,;select * from 表名  order by 列名&#x2F;表达式、别名 desc,;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h2 id="4-分组函数"><a href="#4-分组函数" class="headerlink" title="4.分组函数"></a>4.分组函数</h2><h3 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h3><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> 表名 <span class="token keyword">group</span> <span class="token keyword">by</span> 条件<span class="token number">1</span><span class="token punctuation">,</span>条件<span class="token number">2</span> <span class="token keyword">having</span> 分组后筛选条件<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>







<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span><span class="token keyword">no</span><span class="token punctuation">)</span> <span class="token keyword">no</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>sex <span class="token keyword">from</span> student <span class="token keyword">group</span> <span class="token keyword">by</span> sex<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>注意：</strong>每组只会显示一条数据</p>
<p><strong>结果</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2.png"></p>
<p><strong>查询每组个数</strong></p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sex <span class="token keyword">from</span> student <span class="token keyword">group</span> <span class="token keyword">by</span> sex<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E6%AF%8F%E7%BB%84%E4%B8%AA%E6%95%B0.png"></p>
<p><strong>查询组中人数大于3的</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select count(*), sex from student group by sex having count(*)&gt;3;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p><strong>函数分组</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select count(*) from student group by length(name) ;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p><strong>多字段分组</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select count(*) from student group by length(name),no;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h2 id="5-连接查询"><a href="#5-连接查询" class="headerlink" title="5.连接查询"></a>5.连接查询</h2><p>又叫多表查询 </p>
<h3 id="1-使用场景"><a href="#1-使用场景" class="headerlink" title="1.使用场景"></a>1.使用场景</h3><p>当要同时查询多个表中的字段时</p>
<h3 id="2-语法"><a href="#2-语法" class="headerlink" title="2.语法"></a>2.语法</h3><p><strong>sq92</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 查询字段 from 表名1,表名2 where 连接条件;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>sq99</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ... from 表一 join 表二 on 连接条件;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ... from 表一 join 表二 on 连接条件 join 表三 on 连接条件;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p><strong>外连接</strong></p>
<p>查询主表中所有的数据，如从表中没有对应的数据，则显示null</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ... from 表一 left&#x2F;right outer join 表二 on 连接条件;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>左外连接中left join左边的是主表</p>
<p>有外连接中right join右边的是主表</p>
<p><strong>非等值查询</strong></p>
<p>不仅可以进行等值查询，也可以一进行非等值查询，如…between ..and..</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 查询字段 from 表名1,表名2 where ... between ..and.. ;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 查询字段 from 表名1 join 表名2 on ... between ..and.. ;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p><strong>交叉连接</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ... from ... cross join ...;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>





<p>也可以进行自连接（一个字段连接另一个字段）</p>
<h3 id="3-示例"><a href="#3-示例" class="headerlink" title="3.示例"></a>3.示例</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select no,name,acc from user,account where user.no&#x3D;account.id;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p><strong>结果</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2.png"></p>
<p>如果多表中都有同一字段名，可以使用表名约束，可以使用别名</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select no,u.name,a.acc from user u,account a where u.no&#x3D;a.id;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>多张表</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select no,user.name,acc,t.name from user inner join account on user.no&#x3D;account.id inner join teacher t on user.no &#x3D; t.id;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>左外连接</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select u.no,u.name,a.acc from user u left outer join account a on u.no&#x3D;a.id;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E5%B7%A6%E5%A4%96%E8%BF%9E%E6%8E%A5.png"></p>
<p>右外连接</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select u.no,u.name,a.acc from user u right outer join account a on u.no&#x3D;a.id;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E5%8F%B3%E5%A4%96%E8%BF%9E%E6%8E%A5.png"></p>
<p>交叉连接</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select u.*,t.* from user u cross join teacher t;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E4%BA%A4%E5%8F%89%E8%BF%9E%E6%8E%A5.png"></p>
<h2 id="6-子查询"><a href="#6-子查询" class="headerlink" title="6.子查询"></a>6.子查询</h2><p>又称为内查询</p>
<h3 id="1-简介-1"><a href="#1-简介-1" class="headerlink" title="1.简介"></a>1.简介</h3><p>出现在其他语句中的查询语句</p>
<p>可以分为</p>
<p>1.标量子查询（结果集只有一行一列）</p>
<p>2.列子查询（结果集有一行多列）</p>
<p>3.行子查询（结果集有一行多列）</p>
<p>4.表子查询（结果集一般有多行多列）</p>
<p>可以放置在select/from/where/having/exists后面</p>
<p>select:只支持标量子查询</p>
<p>from:支持表子查询</p>
<p>where/having：支持标量子查询、列子查询、行子查询（较少使用）</p>
<p>exists：表子查询</p>
<h3 id="2-示例"><a href="#2-示例" class="headerlink" title="2.示例"></a>2.示例</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from user where no&gt;(select no from user where name&#x3D;&#39;李四&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>





<h2 id="7-分页查询"><a href="#7-分页查询" class="headerlink" title="7.分页查询"></a>7.分页查询</h2><h3 id="1-语法"><a href="#1-语法" class="headerlink" title="1.语法"></a>1.语法</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from 表名 limit 起始索引（从0开始）,查询条数;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="2-示例-1"><a href="#2-示例-1" class="headerlink" title="2.示例"></a>2.示例</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from user limit 2,3;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2.png"></p>
<h2 id="8-联合查询union"><a href="#8-联合查询union" class="headerlink" title="8.联合查询union"></a>8.联合查询union</h2><h3 id="1-简介-2"><a href="#1-简介-2" class="headerlink" title="1.简介"></a>1.简介</h3><p>将多个查询语句的结果合并为一个结果</p>
<p>要求多条插叙语句的列数相同</p>
<p>最好查询结果顺序相同</p>
<p>会自动去重，如果不去重，使用union all</p>
<h3 id="2-语法-1"><a href="#2-语法-1" class="headerlink" title="2.语法"></a>2.语法</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">查询语句1 union 查询语句2;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>取两个查询结果的合集</p>
<h3 id="3-示例-1"><a href="#3-示例-1" class="headerlink" title="3.示例"></a>3.示例</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from user where age&gt;21 union select * from user where no&gt;3;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>





<h2 id="9-常见函数"><a href="#9-常见函数" class="headerlink" title="9.常见函数"></a>9.常见函数</h2><p><strong>函数可以嵌套使用</strong></p>
<h3 id="1-单行函数"><a href="#1-单行函数" class="headerlink" title="1.单行函数"></a>1.单行函数</h3><h4 id="1-字符函数"><a href="#1-字符函数" class="headerlink" title="1.字符函数"></a>1.字符函数</h4><h5 id="1-length"><a href="#1-length" class="headerlink" title="1.length()"></a>1.length()</h5><p>计算传入参数的字节长度</p>
<p>utf-8中汉字占三个字节，字母占一个字节。</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">length(...);
eg:
select length(name) from ...;
select length(123) from ...;
select length(&#39;safasd&#39;) from ...;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<h5 id="2-concat"><a href="#2-concat" class="headerlink" title="2.concat()"></a>2.concat()</h5><p>拼接函数</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">concat(参数1，参数2，参数3)
eg
select length(name,&#39;-&#39;,age) from ...;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<h5 id="3-upper-、lower"><a href="#3-upper-、lower" class="headerlink" title="3.upper()、lower()"></a>3.upper()、lower()</h5><p>转换大小写</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select upper(&#39;asd&#39;);
select lower(&#39;SDF&#39;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h5 id="4-substr-、substring"><a href="#4-substr-、substring" class="headerlink" title="4.substr()、substring()"></a>4.substr()、substring()</h5><p>截取字符段</p>
<p>sql中索引是从1开始的。</p>
<h6 id="1-substr-内容-索引"><a href="#1-substr-内容-索引" class="headerlink" title="1.substr(内容,索引)"></a>1.substr(内容,索引)</h6><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select substr(&#39;asdfgh&#39;,5);      #gh
select substring(&#39;asdfgh&#39;,5);   #gh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h6 id="2-substr-内容-索引-截取字符长度"><a href="#2-substr-内容-索引-截取字符长度" class="headerlink" title="2.substr(内容,索引,截取字符长度)"></a>2.substr(内容,索引,截取字符长度)</h6><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select substr(&#39;asdfgsadadsash&#39;,3,3);  #dfg<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h5 id="5-instr"><a href="#5-instr" class="headerlink" title="5.instr()"></a>5.instr()</h5><p><strong>instr(内容1，内容2)</strong></p>
<p>返回内容2在内容1第一次出现的位置(索引)，如没有，返回0。</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select instr(&#39;asdfgsadadsash&#39;,&#39;sa&#39;);    # 6<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h5 id="6-trim"><a href="#6-trim" class="headerlink" title="6.trim()"></a>6.trim()</h5><h6 id="1-trim-内容"><a href="#1-trim-内容" class="headerlink" title="1.trim(内容)"></a>1.trim(内容)</h6><p>去掉内容中的空格（不能取出中间的空格）</p>
<h6 id="2-trim-内容1-from-内容2"><a href="#2-trim-内容1-from-内容2" class="headerlink" title="2.trim(内容1 from 内容2)"></a>2.trim(内容1 from 内容2)</h6><p>去掉内容2中前后的内容1（不能取出中间的内容）</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select trim(&#39;as&#39; from &#39;asdfgsadadsashas&#39;);   # dfgsadadsash<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h5 id="7-lpad-、rpad"><a href="#7-lpad-、rpad" class="headerlink" title="7.lpad()、rpad()"></a>7.lpad()、rpad()</h5><p>lpad/rpad(内容，长度，字符)</p>
<p>用指定字符将内容左/右填充到指定长度。</p>
<p>如果长度小于原有长度，则从左/右侧开始截取指定长度</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select lpad(&#39;avf&#39;,10,&#39;-&#39;);    # -------avf
select lpad(&#39;avdasdadasdf&#39;,5,&#39;-&#39;);   # avdas<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h5 id="8-replace"><a href="#8-replace" class="headerlink" title="8.replace()"></a>8.replace()</h5><p>replace(内容，被替换，替换)</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select replace(&#39;asdfasdfgasgfb&#39;,&#39;as&#39;,&#39;123&#39;);  # 123df123dfg123gfb<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>







<h4 id="2-数学函数"><a href="#2-数学函数" class="headerlink" title="2.数学函数"></a>2.数学函数</h4><h5 id="1-round"><a href="#1-round" class="headerlink" title="1.round()"></a>1.round()</h5><h6 id="1-round-数值"><a href="#1-round-数值" class="headerlink" title="1.round(数值)"></a>1.round(数值)</h6><p>四舍五入</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select round(1.236);   # 1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h6 id="round-数值-长度"><a href="#round-数值-长度" class="headerlink" title="round(数值,长度)"></a>round(数值,长度)</h6><p>四舍五入,保留指定长度小数</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select round(1.236,2);   # 1.23<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h5 id="2-ceil"><a href="#2-ceil" class="headerlink" title="2.ceil()"></a>2.ceil()</h5><p>向上取整，返回大于等于参数的最小整数</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select ceil(1.002);   # 2
select ceil(-1.002);  # -1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>





<h5 id="3-floor"><a href="#3-floor" class="headerlink" title="3.floor()"></a>3.floor()</h5><p>向下取整，返回小于等于参数的最大整数</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select floor(1.9999);     # 1
select floor(-1.9999);    # -2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h5 id="4-truncate"><a href="#4-truncate" class="headerlink" title="4.truncate()"></a>4.truncate()</h5><p>截断，保留指定位数小数</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select truncate(1.23543,3);   # 1.235<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h5 id="5-mod"><a href="#5-mod" class="headerlink" title="5.mod()"></a>5.mod()</h5><p>取余</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select mod(10,3);      #  1
select mod(-10,-3);    #  -1
select mod(-10,3);     #  -1
select mod(10,-3);     #  1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>





<h4 id="3-日期函数"><a href="#3-日期函数" class="headerlink" title="3.日期函数"></a>3.日期函数</h4><h5 id="1-now"><a href="#1-now" class="headerlink" title="1.now()"></a>1.now()</h5><p>返回当前日期日期+时间</p>
<h5 id="2-curdate"><a href="#2-curdate" class="headerlink" title="2.curdate()"></a>2.curdate()</h5><p>返回当前日期日期</p>
<h5 id="3-year-、month"><a href="#3-year-、month" class="headerlink" title="3.year()、month()"></a>3.year()、month()</h5><p>获取日期中的年、月</p>
<p>同理可得日、时、分、秒</p>
<h5 id="4-str-to-date"><a href="#4-str-to-date" class="headerlink" title="4.str_to_date()"></a>4.str_to_date()</h5><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select str_to_date(&#39;31_12_1998&#39;,&#39;%Y_%c_%d&#39;); # 2031-12-19<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E6%97%B6%E9%97%B4%E8%A1%A8%E7%A4%BA.png"></p>
<h5 id="5-date-format"><a href="#5-date-format" class="headerlink" title="5.date_format()"></a>5.date_format()</h5><p>将时间转换为指定形式字符串</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select date_format(&#39;2020&#x2F;02&#x2F;15&#39;,&#39;%Y年%c月%d日&#39;);   # 2020年2月15日<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h4 id="4-流程控制函数"><a href="#4-流程控制函数" class="headerlink" title="4.流程控制函数"></a>4.流程控制函数</h4><h5 id="1-if"><a href="#1-if" class="headerlink" title="1.if()"></a>1.if()</h5><p><strong>语法：</strong>if(条件表达式,结果1,结果2)</p>
<p>条件成立，取结果1；不成立，取结果2.</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select if(1&gt;2,3,4);      #   4<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>





<h5 id="2-case"><a href="#2-case" class="headerlink" title="2.case()"></a>2.case()</h5><p><strong>语法：</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-----------------------1--------------------------
case 条件字段 
when 情况1 then 要显示的值表达式&#x2F;语句(流程控制语句中使用)1
...
when 情况n then 要显示的值表达式&#x2F;语句(流程控制语句中使用)n
else 要显示的值表达式&#x2F;语句(流程控制语句中使用)n+1
end
-----------------------2--------------------------
case 
when 条件1 then 要显示的值表达式&#x2F;语句(流程控制语句中使用)1
...
when 条件1n then 要显示的值表达式&#x2F;语句(流程控制语句中使用)n
else 要显示的值表达式&#x2F;语句(流程控制语句中使用)n+1
end
语句，每种情况后要加分号<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">SELECT NO,age 原年龄,CASE NO
WHEN 1 THEN age*3
WHEN 2 THEN age*5
WHEN 3 THEN age*8
WHEN 4 THEN age*10
ELSE age
END AS 新年龄
FROM USER;
------------------------------------------------
SELECT NO,age 原年龄,CASE
WHEN NO&#x3D;1 THEN age-5
WHEN NO&#x3D;2 THEN age+5
WHEN NO&#x3D;3 THEN age-8
WHEN NO&#x3D;4 THEN age+10
ELSE age
END AS 新年龄
FROM USER;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>结果</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/case().png"><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/case()2.png"></p>
<h4 id="5-其他函数"><a href="#5-其他函数" class="headerlink" title="5.其他函数"></a>5.其他函数</h4><h5 id="1-version"><a href="#1-version" class="headerlink" title="1.version()"></a>1.version()</h5><p>返回版本号</p>
<h5 id="2-database"><a href="#2-database" class="headerlink" title="2.database()"></a>2.database()</h5><p>查询当前数据库</p>
<h3 id="2-分组函数"><a href="#2-分组函数" class="headerlink" title="2.分组函数"></a>2.分组函数</h3><p>又称为聚合函数，统计函数，组函数</p>
<h4 id="1-sum"><a href="#1-sum" class="headerlink" title="1.sum()"></a>1.sum()</h4><p>求和</p>
<h4 id="2-avg"><a href="#2-avg" class="headerlink" title="2.avg()"></a>2.avg()</h4><p>求平均值</p>
<h4 id="3-max"><a href="#3-max" class="headerlink" title="3.max()"></a>3.max()</h4><p>求最大值</p>
<h4 id="4-min"><a href="#4-min" class="headerlink" title="4.min()"></a>4.min()</h4><p>求最小值</p>
<h4 id="5-count"><a href="#5-count" class="headerlink" title="5.count()"></a>5.count()</h4><p>求总条数</p>
<p><strong>以上数据支持数据类型</strong></p>
<p>sum、avg：数字类型</p>
<p>max、min：数字类型，字符型，日期数据类型</p>
<p>count：任何数据类型</p>
<h4 id="6-datediff"><a href="#6-datediff" class="headerlink" title="6.datediff()"></a>6.datediff()</h4><p>计算两个日期之间的天数</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> datediff<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'1998-08-29'</span><span class="token punctuation">)</span> <span class="token keyword">time</span><span class="token punctuation">;</span>       结果：<span class="token number">8000</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>可以使用这个函数计算年龄</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> datediff<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">'1998-08-29'</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">365</span> <span class="token keyword">time</span><span class="token punctuation">;</span>   结果：<span class="token number">21.9178</span> 获取时取整即可<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>





<h1 id="4-DML-数据操作语言"><a href="#4-DML-数据操作语言" class="headerlink" title="4.DML:数据操作语言"></a>4.DML:数据操作语言</h1><h2 id="1-添加数据"><a href="#1-添加数据" class="headerlink" title="1.添加数据"></a>1.添加数据</h2><p>插入数据</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> 表名 <span class="token punctuation">(</span>列名<span class="token number">1</span><span class="token punctuation">,</span>列名<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>列名n<span class="token punctuation">)</span> <span class="token keyword">values</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span>值<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>值n<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> 表名 <span class="token keyword">set</span> 列名<span class="token operator">=</span>值<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<p>注意：</p>
<ol>
<li><p>列名和值要一一对应。</p>
</li>
<li><p>如果表名后，不定义列名，则默认给所有列添加值</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> 表名 <span class="token keyword">values</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span>值<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>值n<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>除了数字类型，其他类型需要使用引号(单双都可以)引起来</p>
</li>
<li><p>可以一次插入多行</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">insert into 表名 (...) values (第一行数据),(第二行数据)...;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>





</li>
</ol>
<h2 id="2-删除数据"><a href="#2-删除数据" class="headerlink" title="2.删除数据"></a>2.删除数据</h2><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">delete</span> <span class="token keyword">from</span> 表名 <span class="token punctuation">[</span><span class="token keyword">where</span> 条件<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<p>注意：</p>
<ol>
<li><p>如果不加条件，则删除表中所有记录。</p>
</li>
<li><p>如果要删除所有记录</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">delete</span> <span class="token keyword">from</span> 表名<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>不推荐使用。有多少条记录就会执行多少次删除操作，不能使用条件语句</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>推荐使用，效率更高 先删除表，然后再创建一张一样的表。</p>
</li>
</ol>
<p><strong>TRUNCATE不支持事务的回滚</strong></p>
<p><strong>多表删除</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">delete 表 from 表一,表二 where 连接条件 and 筛选条件;
delete 表 from 表一 inner join 表二 on 连接条件 where 筛选条件;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>删除一个表中的数据delete中写一个表，删除多个填多个。</p>
<h2 id="3-修改数据"><a href="#3-修改数据" class="headerlink" title="3.修改数据"></a>3.修改数据</h2><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">update</span> 表名 <span class="token keyword">set</span> 列名<span class="token number">1</span> <span class="token operator">=</span> 值<span class="token number">1</span><span class="token punctuation">,</span> 列名<span class="token number">2</span> <span class="token operator">=</span> 值<span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">[</span><span class="token keyword">where</span> 条件<span class="token punctuation">]</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>如果不加任何条件，则会将表中所有记录全部修改</p>
<p>也可以使用join on</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">update 表名 join 表二 on 条件 set 列名1 &#x3D; 值1, 列名2 &#x3D; 值2,... [where 条件];<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h1 id="5-TCL-事务控制语言"><a href="#5-TCL-事务控制语言" class="headerlink" title="5.TCL:事务控制语言"></a>5.TCL:事务控制语言</h1><p>一个或一组sql语句组成一个执行单元，这个执行单元要么全部成功，要么全部失败。</p>
<h2 id="1-事务的ACID特性"><a href="#1-事务的ACID特性" class="headerlink" title="1.事务的ACID特性"></a>1.事务的ACID特性</h2><h3 id="1-原子性：Atomicity"><a href="#1-原子性：Atomicity" class="headerlink" title="1.原子性：Atomicity"></a>1.原子性：Atomicity</h3><p>原子性是指事务是一个不可分割的工作单位，事务中的操作要么 都发生，要么都不发生。</p>
<h3 id="2-一致性：Consistency"><a href="#2-一致性：Consistency" class="headerlink" title="2.一致性：Consistency"></a>2.一致性：Consistency</h3><p>事务必须使数据库从一个一致性状态变换到另外一个一致性状态 。</p>
<h3 id="3-隔离性：Isolation"><a href="#3-隔离性：Isolation" class="headerlink" title="3.隔离性：Isolation"></a>3.隔离性：Isolation</h3><p>事务的隔离性是指一个事务的执行不能被其他事务干扰，即一个 事务内部的操作及使用的数据对并发的其他事务是隔离的，并发 执行的各个事务之间不能互相干扰。</p>
<h3 id="4-持久性：Durability"><a href="#4-持久性：Durability" class="headerlink" title="4.持久性：Durability"></a>4.持久性：Durability</h3><p>持久性是指一个事务一旦被提交，它对数据库中数据的改变就是 永久性的，接下来的其他操作和数据库故障不应该对其有任何影 响</p>
<h2 id="2-事务的创建"><a href="#2-事务的创建" class="headerlink" title="2.事务的创建"></a>2.事务的创建</h2><h3 id="1-隐式事务"><a href="#1-隐式事务" class="headerlink" title="1.隐式事务"></a>1.隐式事务</h3><p>事务没有明显的开启和结束的标记</p>
<h3 id="2-显示事务"><a href="#2-显示事务" class="headerlink" title="2.显示事务"></a>2.显示事务</h3><p>事务有明显的开启和结束功能</p>
<h4 id="1-开启事务"><a href="#1-开启事务" class="headerlink" title="1.开启事务"></a>1.开启事务</h4><p>将自动提交功能禁用</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">set autocommit &#x3D; 0;
start transaction ;(可选)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<h4 id="2-编写事务"><a href="#2-编写事务" class="headerlink" title="2.编写事务"></a>2.编写事务</h4><h4 id="3-结束事务"><a href="#3-结束事务" class="headerlink" title="3.结束事务"></a>3.结束事务</h4><p>提交：commit;</p>
<p>回滚：rollback;</p>
<h1 id="6-视图"><a href="#6-视图" class="headerlink" title="6.视图"></a>6.视图</h1><p>虚拟表，不占用内存</p>
<h2 id="1-语法-1"><a href="#1-语法-1" class="headerlink" title="1.语法"></a>1.语法</h2><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create view 视图名
as
查询语句;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<h2 id="2-使用-1"><a href="#2-使用-1" class="headerlink" title="2.使用"></a>2.使用</h2><p>可以当作表使用，进行查询</p>
<h2 id="3-修改"><a href="#3-修改" class="headerlink" title="3.修改"></a>3.修改</h2><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create or replace view 视图名
as
查询语句;

alter view 视图名
as
查询语句;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>不存在就创建，存在就修改</strong></p>
<h2 id="4-删除"><a href="#4-删除" class="headerlink" title="4.删除"></a>4.删除</h2><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">drop view 视图名1,视图名2...;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h2 id="5-查看"><a href="#5-查看" class="headerlink" title="5.查看"></a>5.查看</h2><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">show create view 视图名;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h2 id="6-更新"><a href="#6-更新" class="headerlink" title="6.更新"></a>6.更新</h2><p>不建议通过视图修改</p>
<h3 id="1-插入"><a href="#1-插入" class="headerlink" title="1.插入"></a>1.插入</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">insert into 视图名 (...) values(...);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><strong>一次只能添加一个表的字段</strong></p>
<h3 id="2-修改"><a href="#2-修改" class="headerlink" title="2.修改"></a>2.修改</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">update 视图名 set ..&#x3D;..;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>



<h3 id="3-删除"><a href="#3-删除" class="headerlink" title="3.删除"></a>3.删除</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">delete from 视图名 where ...;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>







<p><strong>示例</strong></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">create view myview
as
    select s.no,s.name as sname,s.gender,s.ID,s.age,m.name as mname
from student s
inner join major m
on s.major_id&#x3D;m.id
where m.id&#x3D;1;

select * from myview;

create or replace view myview
as
    select s.no,s.name as sname,s.gender,s.ID,s.age,m.name as mname
from student s
inner join major m
on s.major_id&#x3D;m.id
where m.id&#x3D;1;

drop view my;

insert into my (mname, mid) values (&#39;hx&#39;,2);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E8%A7%86%E5%9B%BE.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E8%A7%86%E5%9B%BE%E6%9F%A5%E8%AF%A2.png"></p>
<h1 id="7-变量"><a href="#7-变量" class="headerlink" title="7.变量"></a>7.变量</h1><h2 id="1-系统变量"><a href="#1-系统变量" class="headerlink" title="1.系统变量"></a>1.系统变量</h2><p>由系统提供，属于服务器层面。</p>
<p>查看所有系统变量</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">show variables ;
show variables like &#39;%...%&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F.png"></p>
<h3 id="1-全局变量"><a href="#1-全局变量" class="headerlink" title="1.全局变量"></a>1.全局变量</h3><p>查看全局变量</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">show global variables ;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E6%9F%A5%E7%9C%8B%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F.png"></p>
<h3 id="2-会话变量"><a href="#2-会话变量" class="headerlink" title="2.会话变量"></a>2.会话变量</h3><p>查看会话变量</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">show session variables ;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E6%9F%A5%E7%9C%8B%E4%BC%9A%E8%AF%9D%E5%8F%98%E9%87%8F.png"></p>
<h2 id="2-自定义变量"><a href="#2-自定义变量" class="headerlink" title="2.自定义变量"></a>2.自定义变量</h2><h3 id="1-用户变量"><a href="#1-用户变量" class="headerlink" title="1.用户变量"></a>1.用户变量</h3><p>声明</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">set @变量名&#x3D;值;
set @变量名:&#x3D;值;
select @变量名:&#x3D;值;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>



<p>赋值（更改）</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">set @变量名&#x3D;值;
set @变量名:&#x3D;值;
select @变量名:&#x3D;值;
select 字段 into @变量名 from 表名; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<p>使用</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select @变量名;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>





<h3 id="2-局部变量"><a href="#2-局部变量" class="headerlink" title="2.局部变量"></a>2.局部变量</h3><p><strong>只能作用于begin end的第一句中</strong></p>
<p>声明</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">declare 变量名 类型;
declare 变量名 类型 default 值;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>



<p>赋值（更改）</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">set @变量名&#x3D;值;
set @变量名:&#x3D;值;
select @变量名:&#x3D;值;
select 字段 into 局部变量名 from 表名; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>



<p>使用</p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 变量名;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>





<h1 id="8-存储过程与函数"><a href="#8-存储过程与函数" class="headerlink" title="8.存储过程与函数"></a>8.存储过程与函数</h1><h2 id="1-存储过程"><a href="#1-存储过程" class="headerlink" title="1.存储过程"></a>1.存储过程</h2><h3 id="1-简介-3"><a href="#1-简介-3" class="headerlink" title="1.简介"></a>1.简介</h3><p>​        存储过程（Stored Procedure）是在大型数据库系统中，一组为了完成特定功能的SQL 语句集，它存储在数据库中，一次编译后永久有效，用户通过指定存储过程的名字并给出参数（如果该存储过程带有参数）来执行它。存储过程是数据库中的一个重要对象。在数据量特别庞大的情况下利用存储过程能达到倍速的效率提升</p>
<h3 id="2-好处"><a href="#2-好处" class="headerlink" title="2.好处"></a>2.好处</h3><p>1.提高了代码的重用型</p>
<p>2.简化操作</p>
<p>3.减少了编译次数与连接数据库次数</p>
<h3 id="3-语法"><a href="#3-语法" class="headerlink" title="3.语法"></a>3.语法</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">#创建
create procedure 存储过程名(参数列表)
begin
存储过程体(合法有效sql语句)
end

#只有一句话时，可以省略begin end
#每条sql语句后边加;存储过程结尾加delimiter 结束标记

#调用
call 存储过程名(参数列表)


#删除
drop procedure 过程名;


#查看
show create procedure 过程名;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>参数包括三部分</p>
<p>参数模式 </p>
<p>in：可作为输入，也就是该参数需要调用方法入值</p>
<p>out ：可作为输出，也就是方法的返回值</p>
<p>inout：既可以作为输入，又可以作为输出</p>
<p>参数名</p>
<p>参数类型</p>
<h3 id="4-示例"><a href="#4-示例" class="headerlink" title="4.示例"></a>4.示例</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">DELIMITER $;

CREATE PROCEDURE ins()
BEGIN
    INSERT INTO student (NAME,age) VALUES (&#39;ws&#39;,23),(&#39;ww&#39;,24);
    INSERT INTO major VALUES (5,&#39;hg&#39;);
END $;


call ins();
#************************************************************************#
DELIMITER $;

CREATE PROCEDURE nis(in sname varchar(15),in sname2 varchar(15))
BEGIN
    INSERT INTO student (NAME,age) VALUES (sname2,23);
END $;


call nis(&#39;zs&#39;,&#39;ls&#39;);
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B.png"></p>
<pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">delimiter $;
create procedure query(in sno int,out sname varchar(15))
begin
    select name into sname from student where no&#x3D;sno;
end $;

call (101,@sname);
select @sname;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>



<p><img src="https://cdn.jsdelivr.net/gh/new-rain/noteImage/img/query().png"></p>
<h2 id="2-函数"><a href="#2-函数" class="headerlink" title="2.函数"></a>2.函数</h2><p>存储过程：可以有0个返回，也可以有多个返回，适合做批量插入、批量更新<br>函数：有且仅有1个返回，适合做处理数据后返回一个结果</p>
<h3 id="1-语法-2"><a href="#1-语法-2" class="headerlink" title="1.语法"></a>1.语法</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">#创建
create function 函数名(参数列表) returns 返回值类型
begin
    函数体
end $;

#调用
select 函数名(参数列表);

#查询
show create function 函数名;

#删除
drop function query;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>参数列表包括参数名、参数类型</p>
<p>函数体只有一句话时，可以省略begin end    </p>
<h3 id="2-示例-2"><a href="#2-示例-2" class="headerlink" title="2.示例"></a>2.示例</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">#***************************无参*********************************#
delimiter $
create function iquery() returns varchar(15)
begin
    declare sname varchar(15);
    select name into sname from student where no&#x3D;101;
    return sname;
end $
select iquery()$

#***************************有参*********************************#
delimiter $
create function qn(sno int) returns varchar(15)
begin
    declare sname varchar(15);
    select name into sname from student where no&#x3D;sno;
    return sname;
end $
select qn(102);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<h1 id="9-流程控制结构"><a href="#9-流程控制结构" class="headerlink" title="9.流程控制结构"></a>9.流程控制结构</h1><p>顺序结构：程序从上往下依次执行</p>
<p>分支结构：程序从两条或多条路径中选择一条去执行</p>
<p>循环结构：程序在满足一定条件的基础上，重复执行一段代码</p>
<h2 id="1-分支结构"><a href="#1-分支结构" class="headerlink" title="1.分支结构"></a>1.分支结构</h2><h3 id="1-if函数"><a href="#1-if函数" class="headerlink" title="1.if函数"></a>1.if函数</h3><h4 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-----------------------1--------------------------
if(条件表达式1，条件表达式2,条件表达式3)
-----------------------2--------------------------
if 条件1 then 语句1;
elseif 条件2 then 语句2;
...
elseif 条件n-1 then 语句n-1;
else 语句n;
end if;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果表达式1成立，则主函数返回表达式2的值，否则返回表达式3的值</p>
<h3 id="2-case函数"><a href="#2-case函数" class="headerlink" title="2.case函数"></a>2.case函数</h3><h4 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">-----------------------1--------------------------
case 条件字段 
when 情况1 then 要显示的值表达式&#x2F;语句(流程控制语句中使用)1
...
when 情况n then 要显示的值表达式&#x2F;语句(流程控制语句中使用)n
else 要显示的值表达式&#x2F;语句(流程控制语句中使用)n+1
end
-----------------------2--------------------------
case 
when 条件1 then 要显示的值表达式&#x2F;语句(流程控制语句中使用)1
...
when 条件1n then 要显示的值表达式&#x2F;语句(流程控制语句中使用)n
else 要显示的值表达式&#x2F;语句(流程控制语句中使用)n+1
end
语句，每种情况后要加分号<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>





<p>详细见3.9.1.5</p>
<h2 id="2-循环结构"><a href="#2-循环结构" class="headerlink" title="2.循环结构"></a>2.循环结构</h2><h3 id="1-while"><a href="#1-while" class="headerlink" title="1.while"></a>1.while</h3><h4 id="语法-4"><a href="#语法-4" class="headerlink" title="语法"></a>语法</h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">[标签:]while 循环条件 do
	循环体;
end while [标签];<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>







<h3 id="2-loop"><a href="#2-loop" class="headerlink" title="2.loop"></a>2.loop</h3><h4 id="语法-5"><a href="#语法-5" class="headerlink" title="语法"></a>语法</h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">[标签:]loop
	循环体;
end loop [标签];<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>







<h3 id="3-repeat"><a href="#3-repeat" class="headerlink" title="3.repeat"></a>3.repeat</h3><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">[标签:]repeat
	循环体;
util 结束条件
end repeat [标签];<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>​    </p>

                
            </div>
            <hr/>

            



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/MySQL/">
                                    <span class="chip bg-color">MySQL</span>
                                </a>
                            
                                <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                                    <span class="chip bg-color">数据库</span>
                                </a>
                            
                                <a href="/tags/%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/">
                                    <span class="chip bg-color">关系型数据库</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="qq,qzone,wechat,weibo" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">嘿嘿</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/09/18/Redis/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/11.jpg" class="responsive-img" alt="Redis">
                        
                        <span class="card-title">Redis</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            ​        Redis是一个key-value存储系统。和Memcached类似，它支持存储的value类型相对更多，包括string(字符串)、list(链表)、set(集合)、zset(sorted set –有序集合)和hash
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-09-18
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            靳新宇
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                        <span class="chip bg-color">数据库</span>
                    </a>
                    
                    <a href="/tags/Redis/">
                        <span class="chip bg-color">Redis</span>
                    </a>
                    
                    <a href="/tags/NoSQL/">
                        <span class="chip bg-color">NoSQL</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/09/18/MyBatis/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/13.jpg" class="responsive-img" alt="MyBatis">
                        
                        <span class="card-title">MyBatis</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            ​        MyBatis 是一款优秀的持久层框架，它支持定制化 SQL、存储过程以及高级映射。MyBatis 避免了几乎所有的 JDBC 代码和手动设置参数以及获取结果集。MyBatis 可以使用简单的 XML 或注解来配置和映射原
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-09-18
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            靳新宇
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/java/">
                        <span class="chip bg-color">java</span>
                    </a>
                    
                    <a href="/tags/MyBatis/">
                        <span class="chip bg-color">MyBatis</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 努力的小渣渣<br />'
            + '文章作者: 靳新宇<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
                <div class="container row center-align" style="margin-bottom: 0px !important;">
                    <div class="col s12 m8 l8 copy-right">
                        
                            
                                    <br>
                                    
                                        
                                            
                                                
                                                    
                                                        
                                                            
                                                                <span id="busuanzi_container_site_pv"></span>
                                                                </span>
                                                                
                                                                    
                                                                        <span id="busuanzi_container_site_uv"></span>
                                                                        
                                                                            <br>
                                                                            
                                                                                    <br>
                                                                                    
                    </div>
                    <div class="col s12 m4 l4 social-link social-statis">
                        
    <a href="https://github.com/new-rain" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>
    

        
            <a href="mailto:1551903505@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
                <i class="fas fa-envelope-open"></i>
            </a>
            

                
                    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1551903505" class="tooltipped" target="_blank" data-tooltip="QQ: 1551903505" data-position="top" data-delay="50">
                        <i class="fab fa-qq"></i>
                    </a>
                    

                        <!--  

                        

                                

                                        

                                                 -->

                        
                            <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
                                <i class="fas fa-rss"></i>
                            </a>
                            
                    </div>
                </div>
</footer>

    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    
    
    <script type="text/javascript" size="150" alpha='0.6'
        zIndex="-1" src="/libs/background/ribbon-refresh.min.js" async="async"></script>
    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
